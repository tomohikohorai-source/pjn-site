---
const posts = await Astro.glob('./posts/*.md');
const sortedPosts = posts.sort((a, b) => new Date(b.frontmatter.date).getTime() - new Date(a.frontmatter.date).getTime());
---
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Penang Japanese News (PJN)</title>
    <style>
        :root { --pjn-red: #ce1126; --bg-color: #f8f8f8; }
        body { font-family: sans-serif; max-width: 650px; margin: auto; padding: 0; background: var(--bg-color); color: #333; }
        header { background: var(--pjn-red); color: white; padding: 1.5rem 1rem; text-align: center; }
        main { padding: 1rem; }
        details { background: #fff; margin-bottom: 15px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); border: 1px solid #eee; }
        summary { padding: 18px; cursor: pointer; list-style: none; outline: none; }
        .date { font-size: 0.75rem; color: #888; font-weight: bold; }
        .title { display: block; font-size: 1.1rem; font-weight: bold; margin: 5px 0 0 0; line-height: 1.5; color: #000; }
        .content { padding: 0 20px 25px 20px; border-top: 1px solid #f0f0f0; line-height: 1.9; }
        :global(.content h3) { border-left: 5px solid var(--pjn-red); padding-left: 12px; margin: 25px 0 15px 0; font-size: 1.2rem; color: #000; }
        :global(.content p) { margin-bottom: 1.2rem; }
        :global(.genre-label) { display: inline-block; background: #f0f0f0; color: #555; padding: 2px 10px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; margin-top: 20px; }
        :global(.source-link) { display: inline-block; margin-top: 10px; padding: 8px 15px; background: #fff; border-radius: 5px; font-size: 0.85rem; color: #005596; text-decoration: none; border: 1px solid #d0d7de; }
    </style>
</head>
<body>
    <header>
        <h1>PENANG JAPANESE NEWS</h1>
        <p>ペナンの「今」を日本語で正しく伝える</p>
    </header>
    <main>
        {sortedPosts.map(post => (
            <details>
                <summary>
                    <div class="date">{post.frontmatter.date}</div>
                    <div class="title">【{post.frontmatter.category}】{post.frontmatter.title}</div>
                </summary>
                <div class="content">
                    <post.Content />
                </div>
            </details>
        ))}
    </main>
    <footer>&copy; 2026 Penang Japanese News (PJN)</footer>
</body>
</html>
